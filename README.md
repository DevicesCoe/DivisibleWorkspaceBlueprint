## Divisible Workspace Blueprint

The Divisible Workspaces Blueprint provides a drastically simplified installation for two-way and three-way combinable workspaces while leveraging Cisco Pro Series Microphones. This solution leverages the flexibility and customization capabilities within Room OS on Cisco Video Devices to provide a simplified **"art of the possible"** blueprint. 

Important Considerations:
- All Macros are considered **Custom Code** and are <ins>**NOT**</ins> supported by Cisco through the Technical Assistance Center (TAC).
- The Divisible Workspace Blueprint is provided **AS IS**, please reference the license included in this repository.

The solution leverages the following: 
- Cisco Codec EQs or Codec Pros
- Cisco Table or Ceiling Microphone Pros (up to 8)
- Cisco Catalyst 9K Series Switches  
- Custom Macros including [Audio Zone Manager Library](https://github.com/ctg-tme/audio-zone-manager-library-macro?tab=readme-ov-file)
- Certified HDMI Distrubution Amplifiers: [Certified Third Party Devices](https://help.webex.com/en-us/article/7sw4gab/Cisco-collaboration-devices-certification-program)

| Minimum RoomOS Version | Webex Cloud | Webex Edge (Hybrid Cloud) | On-Premise | Microsoft Teams Room<br>On Cisco Devices |
|:-----------------------|:------------|:--------------------------|:-----------|:-----------------------------------------|
| 11.30              | ✅ Yes      | ✅ Yes                    | ✅ Yes     | ❌ Not Supported   | 

### Please join this Webex messaging space for best effort and community level support: https://eurl.io/#nakTe_Vn3

---
## Table of Contents

- [Key Terminology / Files](#key-terminology--top)
- [Supported Hardware](#supported-hardware--top)
- [Installation](#installation-top)
- [User Guide](#user-guide-top)
- [Video Tutorials](#video-tutorials-)
- [FAQ](#faq-)
  
---
## Key Terminology: [Top](#table-of-contents)
| **Term** | **Definition** |
|---|---|
| Primary/Primary Codec | References the codec/workspace that provides the main control for all Divisible state changes. |
| Node /Node Codec | References the codec/workspace that will **not** have an active role in a combined state. |
| Audience Camera | Refers to the Quad Camera at the front of each room. |
| Presenter Camera | Refers to the Speaker Tracking enabled PTZ camera in each room. |
| Automation Mode | Refers to the automatic compositing/switching of the front of room audience cameras based on microphone activity. |

| **File** | **Purpose** |
|---|---|
| Presenter Camera | Refers to the Presenter Tracking enabled PTZ camera in each room. |
| DWS_AZM_Lib.js | The Audio Zone Manager Library macro. This library contains the logic needed for clean audio based events. |
| DWS_Wizard.js | The initial setup wizard functionality loaded onto the Primary Codec. |
| DWS_Setup.js | A background macro that handles the installation and base configuration. |
| DWS_Core.js | The "main" macro that handles all logic. Runs on Primary Codec. |
| DWS_Node.js | The "secondary" macro that handles tasks on the Node Codecs. |
| DWS_Config.js | This autogenerated macro handles the "running" configuration on each codec. |
| DWS_State.js | This autogenerated macro handles saving state for reboots, etc. |
| DWS_Images.js | This file is used for storing long variables for better reability. |
| ciscortr.cfg | This is the pre-configured Cisco Catalyst 9K configuration file. |
---

## Supported Hardware: [Top](#table-of-contents)

This blueprint has been validated with following Codecs:
- Codec Pro
- Codec EQ

The following Cameras have been validated:
- Cisco Quad Camera
- Cisco Room Vision PTZ
- Cisco PTZ4K
- Cisco P60

The following Microphones have been validated:
- Cisco Table Microphone Pro
- Cisco Ceiling Microphone Pro

The following models (SKUs) of switches have been validated:
- C9200CX-8P-2X2G-E
- C9200CX-12P-2X2G-E
- C9200L-24P-4G-E
- C9300L-24P-4G-E
- C9200-24P-E
- C9300-24P-E

## Installation: [Top](#table-of-contents)

### Installation Guides

Follow the installation documentation that matches your network access and registration type:

Cloud & Hybrid (Control Hub) registration **with network access** to GitHub: [Cloud Install Guide](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/CloudInstallationGuide.pdf)

On-premise registration (CUCM or Expressway) **with network access** to GitHub: [Premise Install Guide](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/PremiseInstallationGuide.pdf)

Any registration <ins>**without**</ins> network access to GitHub: [Network Restricted Install Guide](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/NetworkRestrictedInstallationGuide.pdf)


### Wire Diagrams
These tables provides the supported combinations of codecs and number of secondary displays and their respective wiring diagram.

#### Two Way Wiring Diagrams
| Codec | # of Displays | Vison PTZ | PTZ4K/P60 | 
|---|---|---|---|
| Codec EQ | Single | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/2W-1S-EQ-RV.png) | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/images/2W-1S-EQ-4K.png) |
| Codec EQ | Dual | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/2W-2S-EQ-RV.png) | Not Supported |
| Codec Pro | Single | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/2W-1S-Pro-RV.png) | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/2W-1S-Pro-RV.png) | 
| Codec Pro | Dual | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/2W-2S-Pro-RV.png) | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/2W-2S-Pro-RV.png) |

#### Three Way Wiring Diagrams
| Codec | # of Displays | Vison PTZ | PTZ4K/P60 | 
|---|---|---|---|
| Codec EQ | Single | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/3W-1S-EQ-RV.png) | Not Supported |
| Codec EQ | Dual | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/3W-2S-EQ-RV.png) | Not Supported |
| Codec Pro | Single | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/3W-1S-Pro-RV.png) | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/3W-1S-Pro-RV.png) | 
| Codec Pro | Dual | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/3W-2S-Pro-RV.png) | [Diagram](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/wire-diagrams/3W-2S-Pro-RV.png) |

### Switch Configuration Files
Download the switch configuration based on your design: 

| **Switch Model** | Two Way | Three Way |
|---|---|---|
| C9200CX-8P-2X2G-E | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/2Way/C9200CX-8P/ciscortr.cfg) | Not supported |
| C9200CX-12P-2X2G-E | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/2Way/C9200CX-12P/ciscortr.cfg) | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/3Way/C9200CX-12P/ciscortr.cfg) |
| C9200L-24P-4G-E | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/2Way/C9200L-24P/ciscortr.cfg) | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/3Way/C9200L-24P/ciscortr.cfg) |
| C9200-24P-E| [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/2Way/C9200-24P/ciscortr.cfg) | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/3Way/C9200-24P/ciscortr.cfg) |
| C9300L-24P-4G-E | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/2Way/C9300L-24P/ciscortr.cfg) | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/3Way/C9300L-24P/ciscortr.cfg) |
| C9300-24P-E | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/2Way/C9300-24P/ciscortr.cfg) | [ciscortr.cfg](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/switch-configs/3Way/C9300-24P/ciscortr.cfg) |
 
---
## User Guide: [Top](#table-of-contents)

Access the end user documentation here: [End User Guide](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/EndUserGuide.pdf)
  
---

## Administrator Guide: [Top](#table-of-contents)

Access the end user documentation here: [Admin Guide](https://github.com/DevicesCoe/DivisibleWorkspace/blob/main/AdministratorGuide.pdf)
  
---
## FAQ: [Top](#table-of-contents)
**Is this a Cisco TAC supported deployment?**
- **No.** This repository is a custom blueprint and is not supported through Cisco Technical Assistance Center. Implementation, troubleshooting and support is the express responsibility of the end customer and/or AV Integrator.

**How many Microphone Pros (Ceiling and Table) can I use in each room?**
- Combined mode operation can support a maximum of 8 microphones. They can be split amongst either room during split operation in any variation.

**Can I use Third Party IP Microphones instead of Cisco Ceiling or Table Mic Pro with this blueprint?**
- No, this blueprint provides support for Cisco Pro Series Microphones only. Third party microphone support must leverage USB or Analog.

**How many divisible spaces can I combine with this blueprint?**
- This blueprint is specifically designed to support two and three way divisible spaces only.

**Is the blueprint compatible with "Cinematic Meeting" features such as Cross View or Extended Speaker Mode?**
- TBD, the use of multi-camera cinematic features have not been validated with this blueprint. 

**Does this blueprint support Voice Lift / Room re-enforcement scenarions?**
- No, this blueprint does not provide for voice lift scenarios. However, the blueprint does give the user the ability to turn off "Audience" microphones which can assist in voice lift deployments.

**Where is the Partition Sensor?**
- This blueprint does not leverage a partition sensor. The Combine/Split operation is driven manually by the end user.

**Can you help me make this do "X"?**
- Any additional capabilities would require you or your AV Integrator to make **and** support any required modifications to the provided Macros directly.
